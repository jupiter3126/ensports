----------------------회원 테이블-------------------------
CREATE TABLE MEMBER(
  USER_NO NUMBER NOT NULL PRIMARY KEY
, USER_ID VARCHAR2(50) NOT NULL UNIQUE
, USER_PASSWORD VARCHAR2(50) NOT NULL 
, USER_NICKNAME VARCHAR2(50) UNIQUE
, USER_NAME VARCHAR2(40) NOT NULL 
, EMAIL VARCHAR2(30) NOT NULL 
, PHONE VARCHAR2(20) NOT NULL UNIQUE
, ENROLLDATE DATE DEFAULT SYSDATE 
, GENDER VARCHAR2(10) NOT NULL 
, ADDRESS VARCHAR2(100) NOT NULL 
, PREFER VARCHAR2(20) 
, IMAGES VARCHAR2(100) 
, STATUS VARCHAR2(10) DEFAULT 'Y'
);

COMMENT ON COLUMN MEMBER.USER_NO IS '사용자 번호';
COMMENT ON COLUMN MEMBER.USER_ID IS '아이디';
COMMENT ON COLUMN MEMBER.USER_PASSWORD IS '비밀번호';
COMMENT ON COLUMN MEMBER.USER_NICKNAME IS '별명';
COMMENT ON COLUMN MEMBER.USER_NAME IS '이름';
COMMENT ON COLUMN MEMBER.EMAIL IS '이메일 주소';
COMMENT ON COLUMN MEMBER.PHONE IS '전화번호';
COMMENT ON COLUMN MEMBER.ENROLLDATE IS '가입날짜';
COMMENT ON COLUMN MEMBER.GENDER IS '성별';
COMMENT ON COLUMN MEMBER.ADDRESS IS '주소';
COMMENT ON COLUMN MEMBER.PREFER IS '선호종목';
COMMENT ON COLUMN MEMBER.IMAGES IS '이미지';
COMMENT ON COLUMN MEMBER.STATUS IS '활동여부';

----------------------시간 테이블-------------------------
CREATE TABLE TIME (
	TIME_NO INT NOT NULL PRIMARY KEY
    ,TIME_VALUE DATE NULL
);

COMMENT ON COLUMN TIME.TIME_NO IS '시간 식별키';
COMMENT ON COLUMN TIME.TIME_VALUE IS '시간대';

----------------------예약 테이블-------------------------

CREATE TABLE RESERVATION (
            RESERVATION_NO NUMBER NOT NULL PRIMARY KEY
            ,TIME_NO NUMBER NOT NULL           
            ,PLACE_NO NUMBER NOT NULL
            ,RESERVATION_TYPE VARCHAR2(10) NOT NULL 
            ,RESERVATION_DATE DATE NOT NULL
            ,USERCAPACITY VARCHAR2(30) NOT NULL
            ,USER_NO VARCHAR2(30) NOT NULL
            ,GENDER_TYPE VARCHAR2(20) NOT NULL
            
            ,FOREIGN KEY(TIME_NO)REFERENCES TIME (TIME_NO)
            ,FOREIGN KEY(PLACE_NO)REFERENCES PLACE (PLACE_NO));
        
COMMENT ON COLUMN RESERVATION.RESERVATION_NO IS '예약 식별키';
COMMENT ON COLUMN RESERVATION.TIME_NO IS '시간 식별키';
COMMENT ON COLUMN RESERVATION.PLACE_NO IS '경기장 번호';
COMMENT ON COLUMN RESERVATION.RESERVATION_TYPE IS '매칭/경기장 예약';
COMMENT ON COLUMN RESERVATION.RESERVATION_DATE IS '예약 날짜';
COMMENT ON COLUMN RESERVATION.USERCAPACITY IS '인원 제한';
COMMENT ON COLUMN RESERVATION.USER_NO IS '사용자 정보';
COMMENT ON COLUMN RESERVATION.GENDER_TYPE IS '성별 구분';
           
             
----------------------리뷰 테이블-------------------------             
                
CREATE TABLE REVIEW (
            REVIEW_NO NUMBER NOT NULL PRIMARY KEY
            ,USER_NO NUMBER NOT NULL
            ,PLACE_NO NUMBER NOT NULL
            ,SCORE NUMBER NOT NULL
            ,CONTENT VARCHAR2(200) NOT NULL
            
            ,FOREIGN KEY(USER_NO)REFERENCES MEMBER (USER_NO)
            ,FOREIGN KEY(PLACE_NO)REFERENCES PLACE (PLACE_NO));
            
COMMENT ON COLUMN REVIEW.REVIEW_NO IS '리뷰 고유번호';
COMMENT ON COLUMN REVIEW.USER_NO IS '사용자 고유번호';
COMMENT ON COLUMN REVIEW.PLACE_NO IS '경기장 번호';
COMMENT ON COLUMN REVIEW.SCORE IS '별점';
COMMENT ON COLUMN REVIEW.CONTENT IS '리뷰 내용';
    
----------------------지역 테이블-------------------------
     
CREATE TABLE LOCAL (
            LOCAL_NO NUMBER NOT NULL PRIMARY KEY
            ,LOCAL_NAME VARCHAR2(20) NOT NULL);
            
COMMENT ON COLUMN LOCAL.LOCAL_NO IS '지역 번호';
COMMENT ON COLUMN LOCAL.LOCAL_NAME IS '지역명';


----------------------경기장 테이블-------------------------


CREATE TABLE PLACE(
	PLACE_NO INT NOT NULL PRIMARY KEY
    ,LOCAL_NO INT NOT NULL
    ,PLACE_NAME VARCHAR2(20)NOT NULL
    ,PLACE_INFOR CLOB NOT NULL
    ,PLACE_SIZE VARCHAR2(20) NOT NULL
    ,PARKING_YN VARCHAR2(10) NOT NULL
    ,IMAGE1 VARCHAR2(300) NOT NULL
    ,IMAGE2 VARCHAR2(300) NOT NULL
    ,IMAGE3 VARCHAR2(300) NOT NULL
    ,IMAGE4 VARCHAR2(300) NULL
    ,IMAGE5 VARCHAR2(300) NULL
    ,IMAGE6 VARCHAR2(300) NULL
    ,PLACE_DATE DATE NULL
    ,PLACE_COUNT INT NULL
    ,PLACE_START_TIME TIMESTAMP	NOT NULL
    ,PLACE_END_TIME TIMESTAMP NOT NULL
    ,MAX_CAPACITY NUMBER NOT NULL
    ,FOREIGN KEY(LOCAL_NO)REFERENCES LOCAL(LOCAL_NO)
);

COMMENT ON COLUMN PLACE.PLACE_NO IS '경기장 번호';
COMMENT ON COLUMN PLACE.LOCAL_NO IS '지역 번호';
COMMENT ON COLUMN PLACE.PLACE_NAME IS '경기장 이름';
COMMENT ON COLUMN PLACE.PLACE_INFOR IS '경기장 정보';
COMMENT ON COLUMN PLACE.PLACE_SIZE IS '경기장 규격';
COMMENT ON COLUMN PLACE.PARKING_YN IS '주차장 유무';
COMMENT ON COLUMN PLACE.IMAGE1 IS '대표이미지 경로';
COMMENT ON COLUMN PLACE.IMAGE2 IS '세부이미지1';
COMMENT ON COLUMN PLACE.IMAGE3 IS '세부이미지2';
COMMENT ON COLUMN PLACE.IMAGE4 IS '세부이미지3';
COMMENT ON COLUMN PLACE.IMAGE5 IS '세부이미지4';
COMMENT ON COLUMN PLACE.IMAGE6 IS '세부이미지5';
COMMENT ON COLUMN PLACE.PLACE_DATE IS '경기장 등록일';
COMMENT ON COLUMN PLACE.PLACE_COUNT IS '조회수';
COMMENT ON COLUMN PLACE.PLACE_START_TIME IS '경기장 시작시간';
COMMENT ON COLUMN PLACE.PLACE_END_TIME IS '경기장 종료시간';
COMMENT ON COLUMN PLACE.MAX_CAPACITY IS '수용인원';

----------------------카테고리 테이블-------------------------

CREATE TABLE CATEGORY (
	CATEGORY_CODE	INT	NOT NULL PRIMARY KEY
    ,PLACE_NO INT NOT NULL
    ,FIELD VARCHAR2(50) NULL
    ,FOREIGN KEY(PLACE_NO)REFERENCES PLACE(PLACE_NO)
);

COMMENT ON COLUMN CATEGORY.CATEGORY_CODE IS '카테고리 번호';
COMMENT ON COLUMN CATEGORY.PLACE_NO IS '경기장 번호';
COMMENT ON COLUMN CATEGORY.FIELD IS '카테고리 장르';

----------------------문의사항 질문 테이블-------------------------
CREATE TABLE QA(
QA_NO NUMBER PRIMARY KEY,
USER_NO NUMBER,
QA_TITLE VARCHAR2(50),
QA_CONTENT LONG,
CREATE_DATE DATE DEFAULT SYSDATE
);

COMMENT ON COLUMN QA.QA_NO IS '문의사항 식별키';
COMMENT ON COLUMN QA.USER_NO IS '사용자 고유번호';
COMMENT ON COLUMN QA.QA_TITLE IS '문의사항 제목';
COMMENT ON COLUMN QA.QA_CONTENT IS '문의사항 내용';
COMMENT ON COLUMN QA.CREATE_DATE IS '작성일';



----------------------문의사항 질문 답변 테이블-------------------------
CREATE TABLE QA_COMMENT(
QN_ANSWER_NO NUMBER PRIMARY KEY,
USER_NO NUMBER,
QA_ANSWER LONG,
CREATE_DATE DATE DEFAULT SYSDATE
);

COMMENT ON COLUMN QA_COMMENT.QA_ANSWER_NO IS '문의사항답변 식별키';
COMMENT ON COLUMN QA_COMMENT.USER_NO IS '사용자 고유번호';
COMMENT ON COLUMN QA_COMMENT.QA_ANSWER IS '문의사항 답변 내용';
COMMENT ON COLUMN QA_COMMENT.CREATE_DATE IS '문의사항 답변 작성 날짜';


----------------------오타수정(QN_ANSWER_NO->QA_ANSWER_NO)-------------------------
ALTER TABLE QA_COMMENT
RENAME COLUMN QN_ANSWER_NO TO QA_ANSWER_NO;

----------------------QA_ANSWER_NO COMMENT 변경-------------------------
COMMENT ON COLUMN QA_COMMENT.QA_ANSWER_NO IS '문의사항답변 식별키';


----------------------문의사항 질문 외래키 설정-------------------------
ALTER TABLE QA
ADD CONSTRAINT FK_QA_USER
FOREIGN KEY (USER_NO)
REFERENCES MEMBER(USER_NO);


----------------------문의사항 질문 답변 외래키 설정-------------------------
ALTER TABLE QA_COMMENT
ADD CONSTRAINT FK_QA_COMMENT_USER
FOREIGN KEY (USER_NO)
REFERENCES MEMBER(USER_NO);

----------------------문의사항 질문 답변 컬럼(문)추가-------------------------
ALTER TABLE QA_COMMENT
ADD QA_NO INT NOT NULL;

----------------------QA_ANSWER_NO COMMENT 변경-------------------------
COMMENT ON COLUMN QA_COMMENT.QA_NO IS '문의사항 식별키';

----------------------문의사항 질문 답변 외래키 설정-------------------------
ALTER TABLE QA_COMMENT
ADD CONSTRAINT FK_QA_COMMENT_QA_NO
FOREIGN KEY (QA_NO)
REFERENCES QA(QA_NO);